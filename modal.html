<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body></body>

  <body>
    <button id="add-task" class="add-task">
      <svg
        width="23"
        height="23"
        viewBox="0 0 15 15"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M12.0595 8.19048H8.19048V12.0595C8.19048 12.2648 8.10895 12.4616 7.96383 12.6067C7.81871 12.7518 7.62189 12.8333 7.41667 12.8333C7.21144 12.8333 7.01462 12.7518 6.8695 12.6067C6.72438 12.4616 6.64286 12.2648 6.64286 12.0595V8.19048H2.77381C2.56858 8.19048 2.37176 8.10895 2.22664 7.96383C2.08153 7.81872 2 7.62189 2 7.41667C2 7.21144 2.08153 7.01462 2.22664 6.8695C2.37176 6.72438 2.56858 6.64286 2.77381 6.64286H6.64286V2.77381C6.64286 2.56858 6.72438 2.37176 6.8695 2.22664C7.01462 2.08153 7.21144 2 7.41667 2C7.62189 2 7.81871 2.08153 7.96383 2.22664C8.10895 2.37176 8.19048 2.56858 8.19048 2.77381V6.64286H12.0595C12.2648 6.64286 12.4616 6.72438 12.6067 6.8695C12.7518 7.01462 12.8333 7.21144 12.8333 7.41667C12.8333 7.62189 12.7518 7.81872 12.6067 7.96383C12.4616 8.10895 12.2648 8.19048 12.0595 8.19048Z"
          fill="#F24E1E" />
      </svg>
      <span>Add task</span>
    </button>

    <div class="modal-container" id="modal-container__add-task">
      <div class="modal modal--add--task">
        <div class="modal__heading">
          <span>Add New Task</span>
          <button class="close__add-task" id="close__add-task">Go Back</button>
        </div>
        <form action="" method="post" id="modal-form" class="modal__form">
          <div class="modal__border">
            <div class="modal__title">
              <label for="task-title">Title</label>
              <input type="text" id="task-title" name="task-title" required />
            </div>
            <div class="modal__date">
              <label for="task-date">Date</label>
              <input type="date" id="task-date" name="task-date" required />
            </div>
            <div class="modal__priority">
              <span class="modal__priority-label">Priority</span>
              <div>
                <label for="extreme-priority"
                  >Extreme
                  <input
                    type="checkbox"
                    id="extreme-priority"
                    name="task-priority" />
                </label>
                <label for="moderate-priority"
                  >Moderate
                  <input
                    type="checkbox"
                    id="moderate-priority"
                    name="task-priority" />
                </label>
                <label for="low-priority"
                  >Low
                  <input
                    type="checkbox"
                    id="low-priority"
                    name="task-priority" />
                </label>
              </div>
            </div>
            <div class="modal__footer">
              <div class="footer__task-description">
                <label for="task-description">Task Description</label>
                <textarea
                  name="task-description"
                  id="task-description"
                  class="task-description"
                  placeholder="Start writing here..."></textarea>
              </div>
              <div class="footer__upload-image">
                <label for="task-image">Upload Image</label>
                <input
                  type="file"
                  id="task-image"
                  name="task-image"
                  class="custom-file-input" />
              </div>
            </div>
          </div>
          <button class="modal__submit" type="submit">Done</button>
        </form>
      </div>
    </div>

    <script>
      const form = document.getElementById("modal-form");
      const checkboxes = document.querySelectorAll(
        'input[name="task-priority"]'
      );

      checkboxes.forEach((checkbox) => {
        checkbox.addEventListener("change", () => {
          checkboxes.forEach((cb) => {
            if (cb !== checkbox) cb.checked = false;
          });
        });
      });

      form.addEventListener("submit", (e) => {
        const oneChecked = Array.from(checkboxes).some((cb) => cb.checked);
        if (!oneChecked) {
          e.preventDefault();
          alert("ОБЕРИ БЛЯДЬ ПРІОРИТЕТ!");
        }
      });
    </script>

    <script>
      const open = document.getElementById("add-task");
      const modal__container = document.getElementById(
        "modal-container__add-task"
      );
      const close = document.getElementById("close__add-task");

      open.addEventListener("click", () => {
        modal__container.classList.add("show");
      });

      close.addEventListener("click", () => {
        modal__container.classList.remove("show");
      });

      modal__container.addEventListener("click", (e) => {
        if (e.target === modal__container) {
          modal__container.classList.remove("show");
        }
      });
    </script>
  </body>
</html>
